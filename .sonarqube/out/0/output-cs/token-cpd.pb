∏Å
RC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Controllers\ClientController.cs
	namespace 	

BackGaming
 
. 
Controllers  
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
ClientController !
:" #

Controller$ .
{ 
private 
readonly 
GamingApiDbContext +
	dbContext, 5
;5 6
public 
ClientController 
(  
GamingApiDbContext  2
	dbContext3 <
)< =
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (

GetClients) 3
(3 4
)4 5
{ 	
var   
clients   
=   
await   
	dbContext    )
.  ) *
Client  * 0
.!! 
Include!! 
(!! 
c!! 
=>!! 
c!! 
.!!  
Demande!!  '
)!!' (
."" 
ToListAsync"" 
("" 
)"" 
;"" 
return$$ 
Ok$$ 
($$ 
clients$$ 
)$$ 
;$$ 
}%% 	
['' 	
HttpGet''	 
]'' 
[(( 	
Route((	 
((( 
$str(( 
)(( 
](( 
public)) 
async)) 
Task)) 
<)) 
ActionResult)) &
>))& '
Get))( +
())+ ,
int)), /
id))0 2
)))2 3
{** 	
var++ 
client++ 
=++ 
await++ 
	dbContext++ (
.++( )
Client++) /
.,, 
Include,, 
(,, 
c,, 
=>,, 
c,, 
.,,  
Demande,,  '
),,' (
.--  
SingleOrDefaultAsync-- %
(--% &
d--& '
=>--( *
d--+ ,
.--, -
Id--- /
==--0 2
id--3 5
)--5 6
;--6 7
if.. 
(.. 
client.. 
==.. 
null.. 
).. 
{// 
return00 
NotFound00 
(00  
)00  !
;00! "
}11 
return33 
Ok33 
(33 
client33 
)33 
;33 
}44 	
[88 	
HttpPost88	 
]88 
[99 	
Route99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
	addClient::) 2
(::2 3
[::3 4
FromBody::4 <
]::< =
Client::> D
client::E K
)::K L
{;; 	
var== 
cl== 
=== 
	dbContext== 
.== 
Client== %
.==% &
Where==& +
(==+ ,
x==, -
=>==. 0
x==1 2
.==2 3
Email==3 8
====9 ;
client==< B
.==B C
Email==C H
)==H I
.==I J
FirstOrDefault==J X
(==X Y
)==Y Z
;==Z [
if>> 
(>> 
cl>> 
==>> 
null>> 
)>> 
{?? 
clientAA 
.AA 
PasswordAA 
=AA  !
BCryptAA" (
.AA( )
NetAA) ,
.AA, -
BCryptAA- 3
.AA3 4
HashPasswordAA4 @
(AA@ A
clientAAA G
.AAG H
PasswordAAH P
)AAP Q
;AAQ R
awaitBB 
	dbContextBB 
.BB  
ClientBB  &
.BB& '
AddAsyncBB' /
(BB/ 0
clientBB0 6
)BB6 7
;BB7 8
awaitCC 
	dbContextCC 
.CC  
SaveChangesAsyncCC  0
(CC0 1
)CC1 2
;CC2 3
returnDD 
OkDD 
(DD 
clientDD  
)DD  !
;DD! "
}EE 
returnFF 
UnauthorizedFF 
(FF  
$strFF  -
)FF- .
;FF. /
}HH 	
[LL 	
HttpPostLL	 
]LL 
[MM 	
RouteMM	 
(MM 
$strMM 
)MM 
]MM 
publicNN 
IActionResultNN 
LoginNN "
(NN" #
ClientNN# )
clientNN* 0
)NN0 1
{OO 	
varPP 
	CoachUserPP 
=PP 
	dbContextPP %
.PP% &
CoachPP& +
.PP+ ,
WherePP, 1
(PP1 2
xPP2 3
=>PP4 6
xPP7 8
.PP8 9
EmailPP9 >
==PP? A
clientPPB H
.PPH I
EmailPPI N
)PPN O
.PPO P
FirstOrDefaultPPP ^
(PP^ _
)PP_ `
;PP` a
ifQQ 
(QQ 
	CoachUserQQ 
!=QQ 
nullQQ !
)QQ! "
{RR 
boolSS 
verifiedSS 
=SS 
BCryptSS  &
.SS& '
NetSS' *
.SS* +
BCryptSS+ 1
.SS1 2
VerifySS2 8
(SS8 9
clientSS9 ?
.SS? @
PasswordSS@ H
,SSH I
	CoachUserSSJ S
.SSS T
PasswordSST \
)SS\ ]
;SS] ^
ifTT 
(TT 
verifiedTT 
)TT 
{UU 
varVV 
claimsVV 
=VV  
newVV! $
[VV$ %
]VV% &
{WW 
newXX 
ClaimXX 
(XX 
$strXX &
,XX& '
clientXX( .
.XX. /
EmailXX/ 4
)XX4 5
,XX5 6
newYY 
ClaimYY 
(YY 
$strYY %
,YY% &
$strYY& -
)YY- .
}ZZ 
;ZZ 
var[[ 
key[[ 
=[[ 
new[[ ! 
SymmetricSecurityKey[[" 6
([[6 7
Encoding[[7 ?
.[[? @
UTF8[[@ D
.[[D E
GetBytes[[E M
([[M N
$str[[N 
)	[[ Ä
)
[[Ä Å
;
[[Å Ç
var\\ 
creds\\ 
=\\ 
new\\  #
SigningCredentials\\$ 6
(\\6 7
key\\7 :
,\\: ;
SecurityAlgorithms\\< N
.\\N O

HmacSha256\\O Y
)\\Y Z
;\\Z [
var]] 
token]] 
=]] 
new]]  #
JwtSecurityToken]]$ 4
(]]4 5
issuer^^ 
:^^ 
$str^^  5
,^^5 6
audience__  
:__  !
$str__" (
,__( )
claims`` 
:`` 
claims``  &
,``& '
expiresaa 
:aa  
DateTimeaa! )
.aa) *
Nowaa* -
.aa- .

AddMinutesaa. 8
(aa8 9
$numaa9 ;
)aa; <
,aa< =
signingCredentialsbb *
:bb* +
credsbb, 1
)bb1 2
;bb2 3
returndd 
Okdd 
(dd 
newdd !
{ee 
tokenff 
=ff 
newff  ##
JwtSecurityTokenHandlerff$ ;
(ff; <
)ff< =
.ff= >

WriteTokenff> H
(ffH I
tokenffI N
)ffN O
}gg 
)gg 
;gg 
}hh 
returnii 
Unauthorizedii #
(ii# $
$strii$ :
)ii: ;
;ii; <
}jj 
varkk 

Clientuserkk 
=kk 
	dbContextkk &
.kk& '
Clientkk' -
.kk- .
Wherekk. 3
(kk3 4
xkk4 5
=>kk6 8
xkk9 :
.kk: ;
Emailkk; @
==kkA C
clientkkD J
.kkJ K
EmailkkK P
)kkP Q
.kkQ R
FirstOrDefaultkkR `
(kk` a
)kka b
;kkb c
ifll 
(ll 

Clientuserll 
!=ll 
nullll "
)ll" #
{mm 
boolnn 
verifiednn 
=nn 
BCryptnn  &
.nn& '
Netnn' *
.nn* +
BCryptnn+ 1
.nn1 2
Verifynn2 8
(nn8 9
clientnn9 ?
.nn? @
Passwordnn@ H
,nnH I

ClientusernnJ T
.nnT U
PasswordnnU ]
)nn] ^
;nn^ _
ifoo 
(oo 
verifiedoo 
)oo 
{pp 
varqq 
claimsqq 
=qq  
newqq! $
[qq$ %
]qq% &
{rr 
newss 
Claimss 
(ss 
$strss &
,ss& '
clientss( .
.ss. /
Emailss/ 4
)ss4 5
,ss5 6
newtt 
Claimtt 
(tt 
$strtt %
,tt% &
$strtt& .
)tt. /
}uu 
;uu 
varvv 
keyvv 
=vv 
newvv ! 
SymmetricSecurityKeyvv" 6
(vv6 7
Encodingvv7 ?
.vv? @
UTF8vv@ D
.vvD E
GetBytesvvE M
(vvM N
$strvvN 
)	vv Ä
)
vvÄ Å
;
vvÅ Ç
varww 
credsww 
=ww 
newww  #
SigningCredentialsww$ 6
(ww6 7
keyww7 :
,ww: ;
SecurityAlgorithmsww< N
.wwN O

HmacSha256wwO Y
)wwY Z
;wwZ [
varxx 
tokenxx 
=xx 
newxx  #
JwtSecurityTokenxx$ 4
(xx4 5
issueryy 
:yy 
$stryy  5
,yy5 6
audiencezz  
:zz  !
$strzz" (
,zz( )
claims{{ 
:{{ 
claims{{  &
,{{& '
expires|| 
:||  
DateTime||! )
.||) *
Now||* -
.||- .

AddMinutes||. 8
(||8 9
$num||9 ;
)||; <
,||< =
signingCredentials}} *
:}}* +
creds}}, 1
)}}1 2
;}}2 3
return 
Ok 
( 
new !
{
ÄÄ 
token
ÅÅ 
=
ÅÅ 
new
ÅÅ  #%
JwtSecurityTokenHandler
ÅÅ$ ;
(
ÅÅ; <
)
ÅÅ< =
.
ÅÅ= >

WriteToken
ÅÅ> H
(
ÅÅH I
token
ÅÅI N
)
ÅÅN O
}
ÇÇ 
)
ÇÇ 
;
ÇÇ 
}
ÉÉ 
return
ÑÑ 
Unauthorized
ÑÑ #
(
ÑÑ# $
$str
ÑÑ$ ;
)
ÑÑ; <
;
ÑÑ< =
}
ÜÜ 
return
áá 
NotFound
áá 
(
áá 
$str
áá ,
)
áá, -
;
áá- .
}
àà 	
[
åå 	

HttpDelete
åå	 
]
åå 
[
çç 	
Route
çç	 
(
çç 
$str
çç 
)
çç 
]
çç 
public
éé 
async
éé 
Task
éé 
<
éé 
IActionResult
éé '
>
éé' (
DeleteClient
éé) 5
(
éé5 6
[
éé6 7
	FromRoute
éé7 @
]
éé@ A
int
ééB E
id
ééF H
)
ééH I
{
èè 	
var
êê 
user
êê 
=
êê 
await
êê 
	dbContext
êê &
.
êê& '
Client
êê' -
.
êê- .
	FindAsync
êê. 7
(
êê7 8
id
êê8 :
)
êê: ;
;
êê; <
if
ëë 
(
ëë 
user
ëë 
!=
ëë 
null
ëë 
)
ëë 
{
íí 
	dbContext
ìì 
.
ìì 
Client
ìì  
.
ìì  !
Remove
ìì! '
(
ìì' (
user
ìì( ,
)
ìì, -
;
ìì- .
await
îî 
	dbContext
îî 
.
îî  
SaveChangesAsync
îî  0
(
îî0 1
)
îî1 2
;
îî2 3
return
ïï 
Ok
ïï 
(
ïï 
$str
ïï #
)
ïï# $
;
ïï$ %
}
ññ 
return
óó 
Unauthorized
óó 
(
óó  
$str
óó  0
)
óó0 1
;
óó1 2
}
òò 	
[
ùù 	
HttpPut
ùù	 
]
ùù 
[
ûû 	
Route
ûû	 
(
ûû 
$str
ûû 
)
ûû 
]
ûû 
public
üü 
async
üü 
Task
üü 
<
üü 
IActionResult
üü '
>
üü' (
UpdateClient
üü) 5
(
üü5 6
Client
üü7 =
client
üü> D
,
üüD E
[
üüF G
	FromRoute
üüG P
]
üüP Q
int
üüQ T
id
üüU W
)
üüW X
{
†† 	
var
°° 
user
°° 
=
°° 
await
°° 
	dbContext
°° %
.
°°% &
Client
°°& ,
.
°°, -
	FindAsync
°°- 6
(
°°6 7
id
°°7 9
)
°°9 :
;
°°: ;
if
££ 
(
££ 
user
££ 
!=
££ 
null
££ 
)
££ 
{
§§ 
user
•• 
.
•• 
	FirstName
•• 
=
••  
client
••! '
.
••' (
	FirstName
••( 1
;
••1 2
user
¶¶ 
.
¶¶ 
LastName
¶¶ 
=
¶¶ 
client
¶¶ $
.
¶¶$ %
LastName
¶¶% -
;
¶¶- .
var
®® 
	checkmail
®® 
=
®® 
	dbContext
®®  )
.
®®) *
Client
®®* 0
.
®®0 1
Where
®®1 6
(
®®6 7
x
®®7 8
=>
®®9 ;
x
®®< =
.
®®= >
Email
®®> C
==
®®D F
client
®®G M
.
®®M N
Email
®®N S
)
®®S T
.
®®T U
FirstOrDefault
®®U c
(
®®c d
)
®®d e
;
®®e f
if
©© 
(
©© 
(
©© 
	checkmail
©© 
!=
©© !
null
©©" &
&&
©©' )
	checkmail
©©* 3
.
©©3 4
Email
©©4 9
==
©©: <
user
©©= A
.
©©A B
Email
©©B G
)
©©G H
||
©©I K
	checkmail
©©L U
==
©©V X
null
©©Y ]
)
©©] ^
{
™™ 
user
´´ 
.
´´ 
Email
´´ 
=
´´  
client
´´! '
.
´´' (
Email
´´( -
;
´´- .
}
≠≠ 
else
ÆÆ 
return
ÆÆ 
Unauthorized
ÆÆ (
(
ÆÆ( )
$str
ÆÆ) 6
)
ÆÆ6 7
;
ÆÆ7 8
await
ØØ 
	dbContext
ØØ 
.
ØØ  
SaveChangesAsync
ØØ  0
(
ØØ0 1
)
ØØ1 2
;
ØØ2 3
return
∞∞ 
Ok
∞∞ 
(
∞∞ 
client
∞∞  
)
∞∞  !
;
∞∞! "
}
±± 
return
≤≤ 
NotFound
≤≤ 
(
≤≤ 
$str
≤≤ ,
)
≤≤, -
;
≤≤- .
}
≥≥ 	
[
µµ 	
HttpGet
µµ	 
(
µµ 
$str
µµ  
)
µµ  !
]
µµ! "
public
∂∂ 
ActionResult
∂∂ 
<
∂∂ 
Client
∂∂ "
>
∂∂" #
GetClientByEmail
∂∂$ 4
(
∂∂4 5
string
∂∂5 ;
email
∂∂< A
)
∂∂A B
{
∑∑ 	
var
∏∏ 
user
∏∏ 
=
∏∏ 
	dbContext
∏∏  
.
∏∏  !
Client
∏∏! '
.
ππ 
Where
ππ 
(
ππ 
u
ππ 
=>
ππ 
u
ππ 
.
ππ 
Email
ππ #
==
ππ$ &
email
ππ' ,
)
ππ, -
.
∫∫ 
Include
∫∫ 
(
∫∫ 
u
∫∫ 
=>
∫∫ 
u
∫∫ 
.
∫∫  
Demande
∫∫  '
)
∫∫' (
.
ªª 
FirstOrDefault
ªª 
(
ªª  
)
ªª  !
;
ªª! "
if
ºº 
(
ºº 
user
ºº 
==
ºº 
null
ºº 
)
ºº 
{
ΩΩ 
return
ææ 
NotFound
ææ 
(
ææ  
)
ææ  !
;
ææ! "
}
øø 
return
¡¡ 
user
¡¡ 
;
¡¡ 
}
¬¬ 	
}
√√ 
}≈≈ G
QC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Controllers\CoachController.cs
	namespace 	

BackGaming
 
. 
Controllers  
{ 
[ 
ApiController 
] 
[		 
Route		 

(		
 
$str		 
)		 
]		 
public

 

class

 
CoachController

  
:

! "

Controller

# -
{ 
private 
readonly 
GamingApiDbContext +
	dbContext, 5
;5 6
public 
CoachController 
( 
GamingApiDbContext 1
	dbContext2 ;
); <
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
	GetCoachs) 2
(2 3
)3 4
{ 	
return 
Ok 
( 
await 
	dbContext %
.% &
Coach& +
.+ ,
Include, 3
(3 4
c4 5
=>6 8
c9 :
.: ;
Demandes; C
)C D
.D E
ToListAsyncE P
(P Q
)Q R
)R S
;S T
} 	
[ 	

HttpDelete	 
] 
[   	
Route  	 
(   
$str   
)   
]   
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (
DeleteCoach!!) 4
(!!4 5
[!!5 6
	FromRoute!!6 ?
]!!? @
int!!A D
id!!E G
)!!G H
{"" 	
var## 
user## 
=## 
await## 
	dbContext## &
.##& '
Coach##' ,
.##, -
	FindAsync##- 6
(##6 7
id##7 9
)##9 :
;##: ;
if$$ 
($$ 
user$$ 
!=$$ 
null$$ 
)$$ 
{%% 
	dbContext&& 
.&& 
Coach&& 
.&&  
Remove&&  &
(&&& '
user&&' +
)&&+ ,
;&&, -
await'' 
	dbContext'' 
.''  
SaveChangesAsync''  0
(''0 1
)''1 2
;''2 3
return(( 
Ok(( 
((( 
$str(( #
)((# $
;(($ %
})) 
return** 
Unauthorized** 
(**  
$str**  0
)**0 1
;**1 2
}++ 	
[// 	
HttpPut//	 
]// 
[00 	
Route00	 
(00 
$str00 
)00 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
UpdateCoach11) 4
(114 5
Coach115 :
coach11; @
,11@ A
[11B C
	FromRoute11C L
]11L M
int11N Q
id11R T
)11T U
{22 	
var33 
user33 
=33 
await33 
	dbContext33 &
.33& '
Coach33' ,
.33, -
	FindAsync33- 6
(336 7
id337 9
)339 :
;33: ;
if55 
(55 
user55 
!=55 
null55 
)55 
{66 
user77 
.77 
	FirstName77 
=77  
coach77! &
.77& '
	FirstName77' 0
;770 1
user88 
.88 
LastName88 
=88 
coach88  %
.88% &
LastName88& .
;88. /
user99 
.99 
Password99 
=99 
coach99  %
.99% &
Password99& .
;99. /
var:: 
	checkmail:: 
=:: 
	dbContext::  )
.::) *
Coach::* /
.::/ 0
Where::0 5
(::5 6
x::6 7
=>::8 :
x::; <
.::< =
Email::= B
==::C E
coach::F K
.::K L
Email::L Q
)::Q R
.::R S
FirstOrDefault::S a
(::a b
)::b c
;::c d
if;; 
(;; 
(;; 
	checkmail;; 
!=;; !
null;;" &
&&;;' )
	checkmail;;* 3
.;;3 4
Email;;4 9
==;;: <
user;;= A
.;;A B
Email;;B G
);;G H
||;;I K
	checkmail;;L U
==;;V X
null;;Y ]
);;] ^
{<< 
user== 
.== 
Email== 
===  
coach==! &
.==& '
Email==' ,
;==, -
}?? 
else@@ 
return@@ 
Unauthorized@@ (
(@@( )
$str@@) 6
)@@6 7
;@@7 8
awaitAA 
	dbContextAA 
.AA  
SaveChangesAsyncAA  0
(AA0 1
)AA1 2
;AA2 3
returnBB 
OkBB 
(BB 
coachBB 
)BB  
;BB  !
}CC 
returnDD 
NotFoundDD 
(DD 
$strDD ,
)DD, -
;DD- .
}EE 	
[GG 	
HttpGetGG	 
(GG 
$strGG  
)GG  !
]GG! "
publicHH 
ActionResultHH 
<HH 
CoachHH !
>HH! "
GetCoachByEmailHH# 2
(HH2 3
stringHH3 9
emailHH: ?
)HH? @
{II 	
varJJ 
userJJ 
=JJ 
	dbContextJJ  
.JJ  !
CoachJJ! &
.JJ& '
WhereJJ' ,
(JJ, -
uJJ- .
=>JJ/ 1
uJJ2 3
.JJ3 4
EmailJJ4 9
==JJ: <
emailJJ= B
)JJB C
.JJC D
IncludeJJD K
(JJK L
dJJL M
=>JJM O
dJJO P
.JJP Q
DemandesJJQ Y
)JJY Z
.JJZ [
FirstOrDefaultJJ[ i
(JJi j
)JJj k
;JJk l
ifLL 
(LL 
userLL 
==LL 
nullLL 
)LL 
{MM 
returnNN 
NotFoundNN 
(NN  
)NN  !
;NN! "
}OO 
returnQQ 
userQQ 
;QQ 
}RR 	
[SS 	
HttpGetSS	 
]SS 
[TT 	
RouteTT	 
(TT 
$strTT 
)TT 
]TT 
publicUU 
asyncUU 
TaskUU 
<UU 
ActionResultUU &
>UU& '
GetUU( +
(UU+ ,
intUU, /
idUU0 2
)UU2 3
{VV 	
varWW 
clientWW 
=WW 
awaitWW 
	dbContextWW (
.WW( )
CoachWW) .
.WW. /
IncludeWW/ 6
(WW6 7
dWW7 8
=>WW8 :
dWW: ;
.WW; <
DemandesWW< D
)WWD E
.WWE F 
SingleOrDefaultAsyncWWF Z
(WWZ [
dWW[ \
=>WW] _
dWW` a
.WWa b
IdWWb d
==WWe g
idWWh j
)WWj k
;WWk l
ifXX 
(XX 
clientXX 
==XX 
nullXX 
)XX 
{YY 
returnZZ 
NotFoundZZ 
(ZZ  
)ZZ  !
;ZZ! "
}[[ 
return]] 
Ok]] 
(]] 
client]] 
)]] 
;]] 
}^^ 	
[bb 	
HttpPostbb	 
]bb 
[cc 	
Routecc	 
(cc 
$strcc 
)cc 
]cc  
publicdd 
asyncdd 
Taskdd 
<dd 
IActionResultdd '
>dd' (
	addClientdd) 2
(dd2 3
[dd3 4
FromBodydd4 <
]dd< =
Coachdd> C
coachddD I
)ddI J
{ee 	
vargg 
clgg 
=gg 
	dbContextgg 
.gg 
Coachgg $
.gg$ %
Wheregg% *
(gg* +
xgg+ ,
=>gg- /
xgg0 1
.gg1 2
Emailgg2 7
==gg8 :
coachgg; @
.gg@ A
EmailggA F
)ggF G
.ggG H
FirstOrDefaultggH V
(ggV W
)ggW X
;ggX Y
ifhh 
(hh 
clhh 
==hh 
nullhh 
)hh 
{ii 
awaitmm 
	dbContextmm 
.mm  
Coachmm  %
.mm% &
AddAsyncmm& .
(mm. /
coachmm/ 4
)mm4 5
;mm5 6
awaitnn 
	dbContextnn 
.nn  
SaveChangesAsyncnn  0
(nn0 1
)nn1 2
;nn2 3
returnoo 
Okoo 
(oo 
coachoo 
)oo  
;oo  !
}pp 
returnqq 
Unauthorizedqq 
(qq  
$strqq  -
)qq- .
;qq. /
}ss 	
}tt 
}uu ¡:
SC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Controllers\DemandeController.cs
	namespace 	

BackGaming
 
. 
Controllers  
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
DemandeController "
:# $

Controller% /
{ 
private 
readonly 
GamingApiDbContext +
	dbContext, 5
;5 6
public 
DemandeController  
(  !
GamingApiDbContext! 3
	dbContext4 =
)= >
{ 	
this 
. 
	dbContext 
= 
	dbContext &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetDemandes) 4
(4 5
)5 6
{ 	
return 
Ok 
( 
await 
	dbContext %
.% &
Demande& -
.- .
Include. 5
(5 6
c6 7
=>8 :
c; <
.< =
Client= C
)C D
.D E
IncludeE L
(L M
dM N
=>N P
dP Q
.Q R
CoachR W
)W X
.X Y
ToListAsyncY d
(d e
)e f
)f g
;g h
} 	
["" 	
HttpGet""	 
("" 
$str"" 
)"" 
]"" 
public## 
async## 
Task## 
<## 
ActionResult## &
>##& '
Get##( +
(##+ ,
int##, /
id##0 2
)##2 3
{$$ 	
var%% 
demande%% 
=%% 
await%% 
	dbContext%% (
.%%( )
Demande%%) 0
.&& 
Include&& 
(&& 
d&& 
=>&& 
d&& 
.&&  
Client&&  &
)&&& '
.&&' (
Include&&( /
(&&/ 0
d&&0 1
=>&&1 3
d&&3 4
.&&4 5
Coach&&5 :
)&&: ;
.''  
SingleOrDefaultAsync'' %
(''% &
d''& '
=>''( *
d''+ ,
.'', -
Id''- /
==''0 2
id''3 5
)''5 6
;''6 7
if(( 
((( 
demande(( 
==(( 
null(( 
)((  
{)) 
return** 
NotFound** 
(**  
)**  !
;**! "
}++ 
return-- 
Ok-- 
(-- 
demande-- 
)-- 
;-- 
}.. 	
[11 	
HttpPost11	 
]11 
public22 
async22 
Task22 
<22 
IActionResult22 '
>22' (

addDemande22) 3
(223 4
[224 5
FromBody225 =
]22= >
Demande22? F
demande22G N
)22N O
{33 	
await66 
	dbContext66 
.66 
Demande66 #
.66# $
AddAsync66$ ,
(66, -
demande66- 4
)664 5
;665 6
await77 
	dbContext77 
.77  
SaveChangesAsync77  0
(770 1
)771 2
;772 3
return88 
Ok88 
(88 
demande88 !
)88! "
;88" #
};; 	
[>> 	
HttpPut>>	 
]>> 
[?? 	
Route??	 
(?? 
$str?? 
)?? 
]??  
public@@ 
async@@ 
Task@@ 
<@@ 
IActionResult@@ '
>@@' (
changeDemandeEtat@@) :
(@@: ;
int@@; >
id@@? A
)@@A B
{AA 	
varBB 
demandeBB 
=BB 
awaitBB 
	dbContextBB  )
.BB) *
DemandeBB* 1
.BB1 2
	FindAsyncBB2 ;
(BB; <
idBB< >
)BB> ?
;BB? @
ifDD 
(DD 
demandeDD 
!=DD 
nullDD 
)DD  
{EE 
demandeFF 
.FF 
etatFF 
=FF 
$numFF  
;FF  !
awaitHH 
	dbContextHH 
.HH  
SaveChangesAsyncHH  0
(HH0 1
)HH1 2
;HH2 3
returnII 
OkII 
(II 
demandeII !
)II! "
;II" #
}JJ 
returnKK 
NotFoundKK 
(KK 
$strKK /
)KK/ 0
;KK0 1
}LL 	
[NN 	
HttpPutNN	 
]NN 
[OO 	
RouteOO	 
(OO 
$strOO 
)OO 
]OO 
publicPP 
asyncPP 
TaskPP 
<PP 
IActionResultPP '
>PP' (
modiDemandePP) 4
(PP4 5
intPP5 8
idPP9 ;
,PP; <
[PP= >
FromBodyPP> F
]PPF G
DemandePPH O
demandePPP W
)PPW X
{QQ 	
varRR 
demRR 
=RR 
awaitRR 
	dbContextRR %
.RR% &
DemandeRR& -
.RR- .
	FindAsyncRR. 7
(RR7 8
idRR8 :
)RR: ;
;RR; <
ifTT 
(TT 
demandeTT 
!=TT 
nullTT 
)TT  
{UU 
demVV 
.VV 
CoachIdVV 
=VV 
demandeVV %
.VV% &
CoachIdVV& -
;VV- .
awaitXX 
	dbContextXX 
.XX  
SaveChangesAsyncXX  0
(XX0 1
)XX1 2
;XX2 3
returnYY 
OkYY 
(YY 
demandeYY !
)YY! "
;YY" #
}ZZ 
return[[ 
NotFound[[ 
([[ 
$str[[ /
)[[/ 0
;[[0 1
}\\ 	
[^^ 	

HttpDelete^^	 
]^^ 
[__ 	
Route__	 
(__ 
$str__ 
)__ 
]__ 
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (
DeleteDemande``) 6
(``6 7
[``7 8
	FromRoute``8 A
]``A B
int``C F
id``G I
)``I J
{aa 	
varbb 
demandebb 
=bb 
awaitbb 
	dbContextbb  )
.bb) *
Demandebb* 1
.bb1 2
	FindAsyncbb2 ;
(bb; <
idbb< >
)bb> ?
;bb? @
ifcc 
(cc 
demandecc 
!=cc 
nullcc 
)cc  
{dd 
	dbContextee 
.ee 
Demandeee !
.ee! "
Removeee" (
(ee( )
demandeee) 0
)ee0 1
;ee1 2
awaitff 
	dbContextff 
.ff  
SaveChangesAsyncff  0
(ff0 1
)ff1 2
;ff2 3
returngg 
Okgg 
(gg 
$strgg #
)gg# $
;gg$ %
}hh 
returnii 
Unauthorizedii 
(ii  
$strii  0
)ii0 1
;ii1 2
}jj 	
}kk 
}ll Ò"
MC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Data\GamingApiDbContext.cs
	namespace 	

BackGaming
 
. 
Data 
{ 
public 

class 
GamingApiDbContext #
:$ %
	DbContext& /
{		 
public

 
GamingApiDbContext

 !
(

! "
DbContextOptions

" 2
options

3 :
)

: ;
:

< =
base

> B
(

B C
options

C J
)

J K
{ 	
} 	
public 
GamingApiDbContext !
(! "
)" #
{ 	
} 	
public 
virtual 
DbSet 
< 
Client #
># $
Client% +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
virtual 
DbSet 
< 
Coach "
>" #
Coach$ )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
virtual 
DbSet 
< 
Demande $
>$ %
Demande& -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
virtual 
DbSet 
< 
Service $
>$ %
Service& -
{. /
get/ 2
;2 3
set4 7
;7 8
}9 :
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
optionsBuilder 
. 
UseSqlServer '
(' (
$str	( î
)
î ï
;
ï ñ
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Client  &
>& '
(' (
)( )
. 
HasOne 
( 
c 
=> 
c 
. 
Demande &
)& '
.   
WithOne   
(   
d   
=>   
d   
.    
Client    &
)  & '
.!! 
HasForeignKey!! 
<!! 
Demande!! &
>!!& '
(!!' (
d!!( )
=>!!* ,
d!!- .
.!!. /
ClientId!!/ 7
)!!7 8
;!!8 9
modelBuilder"" 
."" 
Entity"" 
<""  
AchatService""  ,
>"", -
(""- .
)"". /
.## 
HasKey## 
(## 
cs## 
=>## 
new##  
{##! "
cs### %
.##% &
ClientId##& .
,##. /
cs##0 2
.##2 3
	ServiceId##3 <
}##= >
)##> ?
;##? @
modelBuilder$$ 
.$$ 
Entity$$ 
<$$  
AchatService$$  ,
>$$, -
($$- .
)$$. /
.%% 
HasOne%% 
(%% 
cs%% 
=>%% 
cs%%  
.%%  !
Client%%! '
)%%' (
.&& 
WithMany&& 
(&& 
c&& 
=>&& 
c&&  
.&&  !
AchatServices&&! .
)&&. /
.'' 
HasForeignKey'' 
('' 
cs'' !
=>''" $
cs''% '
.''' (
ClientId''( 0
)''0 1
;''1 2
modelBuilder)) 
.)) 
Entity)) 
<))  
AchatService))  ,
>)), -
())- .
))). /
.** 
HasOne** 
(** 
cs** 
=>** 
cs**  
.**  !
Service**! (
)**( )
.++ 
WithMany++ 
(++ 
s++ 
=>++ 
s++  
.++  !
AchatServices++! .
)++. /
.,, 
HasForeignKey,, 
(,, 
cs,, !
=>,," $
cs,,% '
.,,' (
	ServiceId,,( 1
),,1 2
;,,2 3
}-- 	
}.. 
}// ˚ã
RC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Migrations\20221229222519_db.cs
	namespace 	

BackGaming
 
. 

Migrations 
{ 
public		 

partial		 
class		 
db		 
:		 
	Migration		 '
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
trueV Z
)Z [
,[ \
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
trueR V
)V W
,W X
Password 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 0
,0 1
x2 3
=>4 6
x7 8
.8 9
Id9 ;
); <
;< =
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns   
:   
table   
=>   !
new  " %
{!! 
Id"" 
="" 
table"" 
."" 
Column"" %
<""% &
int""& )
>"") *
(""* +
type""+ /
:""/ 0
$str""1 6
,""6 7
nullable""8 @
:""@ A
false""B G
)""G H
.## 

Annotation## #
(### $
$str##$ 8
,##8 9
$str##: @
)##@ A
,##A B
	FirstName$$ 
=$$ 
table$$  %
.$$% &
Column$$& ,
<$$, -
string$$- 3
>$$3 4
($$4 5
type$$5 9
:$$9 :
$str$$; J
,$$J K
nullable$$L T
:$$T U
true$$V Z
)$$Z [
,$$[ \
LastName%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
string%%, 2
>%%2 3
(%%3 4
type%%4 8
:%%8 9
$str%%: I
,%%I J
nullable%%K S
:%%S T
true%%U Y
)%%Y Z
,%%Z [
Email&& 
=&& 
table&& !
.&&! "
Column&&" (
<&&( )
string&&) /
>&&/ 0
(&&0 1
type&&1 5
:&&5 6
$str&&7 F
,&&F G
nullable&&H P
:&&P Q
true&&R V
)&&V W
,&&W X
Password'' 
='' 
table'' $
.''$ %
Column''% +
<''+ ,
string'', 2
>''2 3
(''3 4
type''4 8
:''8 9
$str'': I
,''I J
nullable''K S
:''S T
true''U Y
)''Y Z
}(( 
,(( 
constraints)) 
:)) 
table)) "
=>))# %
{** 
table++ 
.++ 

PrimaryKey++ $
(++$ %
$str++% /
,++/ 0
x++1 2
=>++3 5
x++6 7
.++7 8
Id++8 :
)++: ;
;++; <
},, 
),, 
;,, 
migrationBuilder.. 
... 
CreateTable.. (
(..( )
name// 
:// 
$str// 
,//  
columns00 
:00 
table00 
=>00 !
new00" %
{11 
Id22 
=22 
table22 
.22 
Column22 %
<22% &
int22& )
>22) *
(22* +
type22+ /
:22/ 0
$str221 6
,226 7
nullable228 @
:22@ A
false22B G
)22G H
.33 

Annotation33 #
(33# $
$str33$ 8
,338 9
$str33: @
)33@ A
,33A B
Game44 
=44 
table44  
.44  !
Column44! '
<44' (
string44( .
>44. /
(44/ 0
type440 4
:444 5
$str446 E
,44E F
nullable44G O
:44O P
false44Q V
)44V W
,44W X
	DiscordId55 
=55 
table55  %
.55% &
Column55& ,
<55, -
string55- 3
>553 4
(554 5
type555 9
:559 :
$str55; J
,55J K
nullable55L T
:55T U
false55V [
)55[ \
,55\ ]
Team66 
=66 
table66  
.66  !
Column66! '
<66' (
string66( .
>66. /
(66/ 0
type660 4
:664 5
$str666 E
,66E F
nullable66G O
:66O P
false66Q V
)66V W
,66W X
IdInGame77 
=77 
table77 $
.77$ %
Column77% +
<77+ ,
string77, 2
>772 3
(773 4
type774 8
:778 9
$str77: I
,77I J
nullable77K S
:77S T
false77U Z
)77Z [
,77[ \

RankInGame88 
=88  
table88! &
.88& '
Column88' -
<88- .
string88. 4
>884 5
(885 6
type886 :
:88: ;
$str88< K
,88K L
nullable88M U
:88U V
false88W \
)88\ ]
,88] ^
Location99 
=99 
table99 $
.99$ %
Column99% +
<99+ ,
string99, 2
>992 3
(993 4
type994 8
:998 9
$str99: I
,99I J
nullable99K S
:99S T
false99U Z
)99Z [
,99[ \
CoachId:: 
=:: 
table:: #
.::# $
Column::$ *
<::* +
int::+ .
>::. /
(::/ 0
type::0 4
:::4 5
$str::6 ;
,::; <
nullable::= E
:::E F
true::G K
)::K L
,::L M
ClientId;; 
=;; 
table;; $
.;;$ %
Column;;% +
<;;+ ,
int;;, /
>;;/ 0
(;;0 1
type;;1 5
:;;5 6
$str;;7 <
,;;< =
nullable;;> F
:;;F G
true;;H L
);;L M
}<< 
,<< 
constraints== 
:== 
table== "
=>==# %
{>> 
table?? 
.?? 

PrimaryKey?? $
(??$ %
$str??% 1
,??1 2
x??3 4
=>??5 7
x??8 9
.??9 :
Id??: <
)??< =
;??= >
table@@ 
.@@ 

ForeignKey@@ $
(@@$ %
nameAA 
:AA 
$strAA :
,AA: ;
columnBB 
:BB 
xBB  !
=>BB" $
xBB% &
.BB& '
ClientIdBB' /
,BB/ 0
principalTableCC &
:CC& '
$strCC( 0
,CC0 1
principalColumnDD '
:DD' (
$strDD) -
)DD- .
;DD. /
tableEE 
.EE 

ForeignKeyEE $
(EE$ %
nameFF 
:FF 
$strFF 8
,FF8 9
columnGG 
:GG 
xGG  !
=>GG" $
xGG% &
.GG& '
CoachIdGG' .
,GG. /
principalTableHH &
:HH& '
$strHH( /
,HH/ 0
principalColumnII '
:II' (
$strII) -
)II- .
;II. /
}JJ 
)JJ 
;JJ 
migrationBuilderLL 
.LL 
CreateTableLL (
(LL( )
nameMM 
:MM 
$strMM 
,MM  
columnsNN 
:NN 
tableNN 
=>NN !
newNN" %
{OO 
IdPP 
=PP 
tablePP 
.PP 
ColumnPP %
<PP% &
intPP& )
>PP) *
(PP* +
typePP+ /
:PP/ 0
$strPP1 6
,PP6 7
nullablePP8 @
:PP@ A
falsePPB G
)PPG H
.QQ 

AnnotationQQ #
(QQ# $
$strQQ$ 8
,QQ8 9
$strQQ: @
)QQ@ A
,QQA B
PriceRR 
=RR 
tableRR !
.RR! "
ColumnRR" (
<RR( )
floatRR) .
>RR. /
(RR/ 0
typeRR0 4
:RR4 5
$strRR6 <
,RR< =
nullableRR> F
:RRF G
trueRRH L
)RRL M
,RRM N
DateCeationSS 
=SS  !
tableSS" '
.SS' (
ColumnSS( .
<SS. /
DateTimeSS/ 7
>SS7 8
(SS8 9
typeSS9 =
:SS= >
$strSS? J
,SSJ K
nullableSSL T
:SST U
trueSSV Z
)SSZ [
,SS[ \
TitleTT 
=TT 
tableTT !
.TT! "
ColumnTT" (
<TT( )
stringTT) /
>TT/ 0
(TT0 1
typeTT1 5
:TT5 6
$strTT7 F
,TTF G
nullableTTH P
:TTP Q
trueTTR V
)TTV W
,TTW X
DescriptionUU 
=UU  !
tableUU" '
.UU' (
ColumnUU( .
<UU. /
stringUU/ 5
>UU5 6
(UU6 7
typeUU7 ;
:UU; <
$strUU= L
,UUL M
nullableUUN V
:UUV W
trueUUX \
)UU\ ]
,UU] ^
CoachIdVV 
=VV 
tableVV #
.VV# $
ColumnVV$ *
<VV* +
intVV+ .
>VV. /
(VV/ 0
typeVV0 4
:VV4 5
$strVV6 ;
,VV; <
nullableVV= E
:VVE F
trueVVG K
)VVK L
}WW 
,WW 
constraintsXX 
:XX 
tableXX "
=>XX# %
{YY 
tableZZ 
.ZZ 

PrimaryKeyZZ $
(ZZ$ %
$strZZ% 1
,ZZ1 2
xZZ3 4
=>ZZ5 7
xZZ8 9
.ZZ9 :
IdZZ: <
)ZZ< =
;ZZ= >
table[[ 
.[[ 

ForeignKey[[ $
([[$ %
name\\ 
:\\ 
$str\\ 8
,\\8 9
column]] 
:]] 
x]]  !
=>]]" $
x]]% &
.]]& '
CoachId]]' .
,]]. /
principalTable^^ &
:^^& '
$str^^( /
,^^/ 0
principalColumn__ '
:__' (
$str__) -
)__- .
;__. /
}`` 
)`` 
;`` 
migrationBuilderbb 
.bb 
CreateTablebb (
(bb( )
namecc 
:cc 
$strcc $
,cc$ %
columnsdd 
:dd 
tabledd 
=>dd !
newdd" %
{ee 
ClientIdff 
=ff 
tableff $
.ff$ %
Columnff% +
<ff+ ,
intff, /
>ff/ 0
(ff0 1
typeff1 5
:ff5 6
$strff7 <
,ff< =
nullableff> F
:ffF G
falseffH M
)ffM N
,ffN O
	ServiceIdgg 
=gg 
tablegg  %
.gg% &
Columngg& ,
<gg, -
intgg- 0
>gg0 1
(gg1 2
typegg2 6
:gg6 7
$strgg8 =
,gg= >
nullablegg? G
:ggG H
falseggI N
)ggN O
,ggO P
Idhh 
=hh 
tablehh 
.hh 
Columnhh %
<hh% &
inthh& )
>hh) *
(hh* +
typehh+ /
:hh/ 0
$strhh1 6
,hh6 7
nullablehh8 @
:hh@ A
falsehhB G
)hhG H
.ii 

Annotationii #
(ii# $
$strii$ 8
,ii8 9
$strii: @
)ii@ A
}jj 
,jj 
constraintskk 
:kk 
tablekk "
=>kk# %
{ll 
tablemm 
.mm 

PrimaryKeymm $
(mm$ %
$strmm% 6
,mm6 7
xmm8 9
=>mm: <
newmm= @
{mmA B
xmmC D
.mmD E
ClientIdmmE M
,mmM N
xmmO P
.mmP Q
	ServiceIdmmQ Z
}mm[ \
)mm\ ]
;mm] ^
tablenn 
.nn 

ForeignKeynn $
(nn$ %
nameoo 
:oo 
$stroo ?
,oo? @
columnpp 
:pp 
xpp  !
=>pp" $
xpp% &
.pp& '
ClientIdpp' /
,pp/ 0
principalTableqq &
:qq& '
$strqq( 0
,qq0 1
principalColumnrr '
:rr' (
$strrr) -
,rr- .
onDeletess  
:ss  !
ReferentialActionss" 3
.ss3 4
Cascadess4 ;
)ss; <
;ss< =
tablett 
.tt 

ForeignKeytt $
(tt$ %
nameuu 
:uu 
$struu A
,uuA B
columnvv 
:vv 
xvv  !
=>vv" $
xvv% &
.vv& '
	ServiceIdvv' 0
,vv0 1
principalTableww &
:ww& '
$strww( 1
,ww1 2
principalColumnxx '
:xx' (
$strxx) -
,xx- .
onDeleteyy  
:yy  !
ReferentialActionyy" 3
.yy3 4
Cascadeyy4 ;
)yy; <
;yy< =
}zz 
)zz 
;zz 
migrationBuilder|| 
.|| 
CreateIndex|| (
(||( )
name}} 
:}} 
$str}} 1
,}}1 2
table~~ 
:~~ 
$str~~ %
,~~% &
column 
: 
$str #
)# $
;$ %
migrationBuilder
ÅÅ 
.
ÅÅ 
CreateIndex
ÅÅ (
(
ÅÅ( )
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ +
,
ÇÇ+ ,
table
ÉÉ 
:
ÉÉ 
$str
ÉÉ  
,
ÉÉ  !
column
ÑÑ 
:
ÑÑ 
$str
ÑÑ "
,
ÑÑ" #
unique
ÖÖ 
:
ÖÖ 
true
ÖÖ 
,
ÖÖ 
filter
ÜÜ 
:
ÜÜ 
$str
ÜÜ 0
)
ÜÜ0 1
;
ÜÜ1 2
migrationBuilder
àà 
.
àà 
CreateIndex
àà (
(
àà( )
name
ââ 
:
ââ 
$str
ââ *
,
ââ* +
table
ää 
:
ää 
$str
ää  
,
ää  !
column
ãã 
:
ãã 
$str
ãã !
)
ãã! "
;
ãã" #
migrationBuilder
çç 
.
çç 
CreateIndex
çç (
(
çç( )
name
éé 
:
éé 
$str
éé *
,
éé* +
table
èè 
:
èè 
$str
èè  
,
èè  !
column
êê 
:
êê 
$str
êê !
)
êê! "
;
êê" #
}
ëë 	
	protected
îî 
override
îî 
void
îî 
Down
îî  $
(
îî$ %
MigrationBuilder
îî% 5
migrationBuilder
îî6 F
)
îîF G
{
ïï 	
migrationBuilder
ññ 
.
ññ 
	DropTable
ññ &
(
ññ& '
name
óó 
:
óó 
$str
óó $
)
óó$ %
;
óó% &
migrationBuilder
ôô 
.
ôô 
	DropTable
ôô &
(
ôô& '
name
öö 
:
öö 
$str
öö 
)
öö  
;
öö  !
migrationBuilder
úú 
.
úú 
	DropTable
úú &
(
úú& '
name
ùù 
:
ùù 
$str
ùù 
)
ùù  
;
ùù  !
migrationBuilder
üü 
.
üü 
	DropTable
üü &
(
üü& '
name
†† 
:
†† 
$str
†† 
)
†† 
;
††  
migrationBuilder
¢¢ 
.
¢¢ 
	DropTable
¢¢ &
(
¢¢& '
name
££ 
:
££ 
$str
££ 
)
££ 
;
££ 
}
§§ 	
}
•• 
}¶¶ ∆
\C:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Migrations\20221231103624_etat demande.cs
	namespace 	

BackGaming
 
. 

Migrations 
{ 
public 

partial 
class 
etatdemande $
:% &
	Migration' 0
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str  
,  !
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str  
)  !
;! "
} 	
} 
} ‰	
IC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Models\AchatService.cs
	namespace 	

BackGaming
 
. 
Models 
{ 
public 

class 
AchatService 
{ 
[ 	
Key	 
] 
[		 	
DatabaseGenerated			 
(		 #
DatabaseGeneratedOption		 2
.		2 3
Identity		3 ;
)		; <
]		< =
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
ClientId 
{ 
get !
;! "
set# &
;& '
}( )
public 
Client 
Client 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
	ServiceId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Service 
Service 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ±
CC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Models\Client.cs
	namespace 	

BackGaming
 
. 
Models 
{ 
public 

class 
Client 
{ 
[		 	
Key			 
]		 
[

 	
DatabaseGenerated

	 
(

 #
DatabaseGeneratedOption

 2
.

2 3
Identity

3 ;
)

; <
]

< =
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
? 
	FirstName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
LastName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Email 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Password 
{  !
get" %
;% &
set' *
;* +
}, -
public 
Demande 
? 
Demande 
{  !
get" %
;% &
set' *
;* +
}, -
public 
ICollection 
< 
AchatService '
>' (
?( )
AchatServices) 6
{7 8
get9 <
;< =
set> A
;A B
}C D
} 
} ›
BC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Models\Coach.cs
	namespace 	

BackGaming
 
. 
Models 
{ 
public 

class 
Coach 
{ 
[

 	
Key

	 
]

 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
? 
	FirstName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
LastName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Email 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Password 
{  !
get" %
;% &
set' *
;* +
}, -
public 
ICollection 
< 
Demande "
>" #
?# $
Demandes% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
ICollection 
< 
Service "
>" #
?# $
Services% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
} 
} ∞
DC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Models\Demande.cs
	namespace 	

BackGaming
 
. 
Models 
{ 
public 

class 
Demande 
{ 
[

 	
Key

	 
]

 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Game 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
	DiscordId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Team 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
IdInGame 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 

RankInGame  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Location 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
DefaultValue	 
( 
$num 
) 
] 
public 
int 
etat 
{ 
get 
; 
set "
;" #
}# $
public 
int 
? 
CoachId 
{ 
get !
;! "
set# &
;& '
}( )
public 
Coach 
? 
Coach 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
? 
ClientId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Client 
? 
Client 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} Ÿ
DC:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Models\Service.cs
	namespace 	

BackGaming
 
. 
Models 
{ 
public 

class 
Service 
{ 
[

 	
Key

	 
]

 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
float 
? 
Price 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTime 
? 
DateCeation $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
? 
Title 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
? 
CoachId 
{ 
get  
;  !
set" %
;% &
}' (
public 
Coach 
? 
Coach 
{ 
get !
;! "
set# &
;& '
}( )
public 
ICollection 
< 
AchatService '
>' (
?( )
AchatServices* 7
{8 9
get: =
;= >
set? B
;B C
}D E
} 
} â
=C:\Users\ASUS\Desktop\Gaming\BackGaming\BackGaming\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
.! "
AddJsonOptions" 0
(0 1
x1 2
=>3 5
x 
. !
JsonSerializerOptions '
.' (
ReferenceHandler( 8
=9 :
ReferenceHandler; K
.K L
IgnoreCyclesL X
)X Y
;Y Z
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddDbContext 
< 
GamingApiDbContext 0
>0 1
(1 2
options2 9
=>: <
options 
. 
UseSqlServer 
( 
builder  
.  !
Configuration! .
.. /
GetConnectionString/ B
(B C
$strC ^
)^ _
)_ `
)` a
;a b
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if!! 
(!! 
app!! 
.!! 
Environment!! 
.!! 
IsDevelopment!! !
(!!! "
)!!" #
)!!# $
{"" 
app## 
.## 

UseSwagger## 
(## 
)## 
;## 
app$$ 
.$$ 
UseSwaggerUI$$ 
($$ 
)$$ 
;$$ 
}%% 
app'' 
.'' 
UseHttpsRedirection'' 
('' 
)'' 
;'' 
app)) 
.)) 
UseCors)) 
()) 
builder)) 
=>)) 
builder** 
.** 
WithOrigins** "
(**" #
$str**# &
)**& '
.++ 
AllowAnyMethod++ %
(++% &
)++& '
.,, 
AllowAnyHeader,, %
(,,% &
),,& '
)-- 
;-- 
app.. 
... 
UseAuthorization.. 
(.. 
).. 
;.. 
app00 
.00 
MapControllers00 
(00 
)00 
;00 
app22 
.22 
Run22 
(22 
)22 	
;22	 
